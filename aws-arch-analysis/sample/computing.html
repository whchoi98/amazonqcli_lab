<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Phase 2: 컴퓨팅 리소스 분석</title>
    <link rel="stylesheet" href="styles/main.css">
    <style>
        .detail-page {
            background: white;
            border-radius: 15px;
            padding: 40px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }
        
        .breadcrumb {
            background: #f8f9fa;
            padding: 15px 20px;
            border-radius: 8px;
            margin-bottom: 30px;
        }
        
        .breadcrumb a {
            color: #3498db;
            text-decoration: none;
        }
        
        .breadcrumb a:hover {
            text-decoration: underline;
        }
        
        .analysis-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            border-radius: 8px;
            overflow: hidden;
        }
        
        .analysis-table th {
            background: #3498db;
            color: white;
            padding: 15px;
            text-align: left;
            font-weight: 600;
        }
        
        .analysis-table td {
            padding: 12px 15px;
            border-bottom: 1px solid #e9ecef;
        }
        
        .analysis-table tr:hover {
            background: #f8f9fa;
        }
        
        .status-available {
            color: #28a745;
            font-weight: bold;
        }
        
        .instance-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .instance-card {
            background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
            border-radius: 10px;
            padding: 20px;
            border-left: 4px solid #2196f3;
        }
        
        .instance-card.running {
            background: linear-gradient(135deg, #e8f5e8 0%, #c8e6c9 100%);
            border-left-color: #4caf50;
        }
        
        .eks-cluster-info {
            background: linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%);
            border-radius: 10px;
            padding: 25px;
            margin: 20px 0;
            border: 2px solid #ff9800;
        }
        
        .workload-distribution {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .workload-card {
            text-align: center;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
        }
        
        .workload-number {
            font-size: 2.5em;
            font-weight: bold;
            color: #3498db;
            margin-bottom: 10px;
        }
        
        .cost-breakdown {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 25px;
            margin: 20px 0;
        }
        
        .cost-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid #dee2e6;
        }
        
        .cost-item:last-child {
            border-bottom: none;
            font-weight: bold;
            font-size: 1.1em;
        }
        
        .nav-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #e9ecef;
        }
        
        .nav-btn {
            background: #3498db;
            color: white;
            padding: 12px 24px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
        }
        
        .nav-btn:hover {
            background: #2980b9;
            transform: translateY(-2px);
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="breadcrumb">
            <a href="index.html">🏠 홈</a> > <strong>Phase 2: 컴퓨팅 리소스 분석</strong>
        </div>

        <div class="detail-page">
            <header>
                <h1>💻 Phase 2: 컴퓨팅 리소스 완전 분석</h1>
                <p>EC2 인스턴스, EKS 클러스터, 워크로드 분포 등 컴퓨팅 인프라의 성능과 비용을 종합 분석합니다.</p>
            </header>

            <section>
                <h2>📊 EC2 인스턴스 현황</h2>
                <p>총 18개의 EC2 인스턴스가 5개 VPC에 분산되어 운영되고 있습니다.</p>
                
                <div class="workload-distribution">
                    <div class="workload-card">
                        <div class="workload-number">18</div>
                        <div>총 인스턴스</div>
                    </div>
                    <div class="workload-card">
                        <div class="workload-number">18</div>
                        <div>실행 중</div>
                    </div>
                    <div class="workload-card">
                        <div class="workload-number">5</div>
                        <div>VPC 분산</div>
                    </div>
                    <div class="workload-card">
                        <div class="workload-number">4</div>
                        <div>인스턴스 타입</div>
                    </div>
                </div>

                <h3>인스턴스 타입별 분포 및 비용</h3>
                <table class="analysis-table">
                    <thead>
                        <tr>
                            <th>인스턴스 타입</th>
                            <th>개수</th>
                            <th>vCPU</th>
                            <th>메모리</th>
                            <th>상태</th>
                            <th>월간 예상 비용</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>t3.small</strong></td>
                            <td>12개</td>
                            <td>2 vCPU</td>
                            <td>2 GB</td>
                            <td><span class="status-available">Running</span></td>
                            <td>$183.96</td>
                        </tr>
                        <tr>
                            <td><strong>t3.medium</strong></td>
                            <td>1개</td>
                            <td>2 vCPU</td>
                            <td>4 GB</td>
                            <td><span class="status-available">Running</span></td>
                            <td>$30.66</td>
                        </tr>
                        <tr>
                            <td><strong>m6i.xlarge</strong></td>
                            <td>4개</td>
                            <td>4 vCPU</td>
                            <td>16 GB</td>
                            <td><span class="status-available">Running</span></td>
                            <td>$560.64</td>
                        </tr>
                        <tr>
                            <td><strong>m6i.2xlarge</strong></td>
                            <td>1개</td>
                            <td>8 vCPU</td>
                            <td>32 GB</td>
                            <td><span class="status-available">Running</span></td>
                            <td>$280.32</td>
                        </tr>
                        <tr style="background: #e8f5e8; font-weight: bold;">
                            <td><strong>총계</strong></td>
                            <td><strong>18개</strong></td>
                            <td><strong>56 vCPU</strong></td>
                            <td><strong>208 GB</strong></td>
                            <td>-</td>
                            <td><strong>$1,055.58</strong></td>
                        </tr>
                    </tbody>
                </table>
            </section>

            <section>
                <h2>🏢 VPC별 인스턴스 분포</h2>
                <div class="instance-grid">
                    <div class="instance-card running">
                        <h4>🌐 Default VPC</h4>
                        <p><strong>인스턴스:</strong> 1개 (t3.medium)</p>
                        <p><strong>용도:</strong> Cloud9 개발 환경</p>
                        <p><strong>비용:</strong> $30.66/월</p>
                        <p><strong>특징:</strong> 개발 전용, 외부 접근</p>
                    </div>
                    <div class="instance-card running">
                        <h4>🔧 mgmtvpc</h4>
                        <p><strong>인스턴스:</strong> 1개 (t3.small)</p>
                        <p><strong>용도:</strong> VSCode 서버</p>
                        <p><strong>비용:</strong> $15.33/월</p>
                        <p><strong>특징:</strong> 관리 도구, 24/7 운영</p>
                    </div>
                    <div class="instance-card running">
                        <h4>🛡️ DMZVPC</h4>
                        <p><strong>인스턴스:</strong> 8개</p>
                        <p><strong>구성:</strong> EKS 노드 4개 + 워크로드 4개</p>
                        <p><strong>비용:</strong> $622.96/월</p>
                        <p><strong>특징:</strong> 컨테이너 워크로드, 고성능</p>
                    </div>
                    <div class="instance-card running">
                        <h4>💼 VPC01</h4>
                        <p><strong>인스턴스:</strong> 4개 (t3.small)</p>
                        <p><strong>용도:</strong> 일반 워크로드</p>
                        <p><strong>비용:</strong> $61.32/월</p>
                        <p><strong>특징:</strong> 개발/테스트 환경</p>
                    </div>
                    <div class="instance-card running">
                        <h4>💼 VPC02</h4>
                        <p><strong>인스턴스:</strong> 4개 (t3.small)</p>
                        <p><strong>용도:</strong> 일반 워크로드</p>
                        <p><strong>비용:</strong> $61.32/월</p>
                        <p><strong>특징:</strong> 개발/테스트 환경</p>
                    </div>
                </div>
            </section>

            <section>
                <h2>☸️ EKS 클러스터 분석</h2>
                <div class="eks-cluster-info">
                    <h3>eksworkshop 클러스터 상세 정보</h3>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px; margin-top: 15px;">
                        <div><strong>Kubernetes 버전:</strong> 1.31 (최신)</div>
                        <div><strong>상태:</strong> <span class="status-available">ACTIVE</span></div>
                        <div><strong>플랫폼 버전:</strong> eks.28</div>
                        <div><strong>생성일:</strong> 2024년 12월</div>
                        <div><strong>엔드포인트:</strong> Public + Private</div>
                        <div><strong>VPC:</strong> DMZVPC</div>
                    </div>
                    
                    <h4 style="margin-top: 20px;">보안 및 로깅 설정</h4>
                    <ul style="margin-top: 10px;">
                        <li>✅ <strong>모든 컨트롤 플레인 로그 활성화</strong></li>
                        <li>✅ <strong>Secrets 암호화 (KMS)</strong></li>
                        <li>✅ <strong>OIDC 활성화</strong></li>
                        <li>✅ <strong>Private API 서버 엔드포인트</strong></li>
                        <li>✅ <strong>Public 액세스 제한</strong></li>
                    </ul>

                    <h4 style="margin-top: 20px;">워커 노드 구성</h4>
                    <div style="background: rgba(255,255,255,0.7); padding: 15px; border-radius: 8px; margin-top: 10px;">
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 10px;">
                            <div><strong>노드 그룹:</strong> managed-backend-workloads</div>
                            <div><strong>인스턴스 타입:</strong> m6i.xlarge</div>
                            <div><strong>노드 수:</strong> 4개</div>
                            <div><strong>Auto Scaling:</strong> 활성화</div>
                            <div><strong>네트워킹:</strong> ENI 다중 IP</div>
                            <div><strong>월간 비용:</strong> $560.64</div>
                        </div>
                    </div>
                </div>
            </section>

            <section>
                <h2>💰 컴퓨팅 비용 상세 분석</h2>
                <div class="cost-breakdown">
                    <h3>월간 컴퓨팅 비용 분석</h3>
                    <div class="cost-item">
                        <span>EC2 인스턴스 (18개)</span>
                        <span><strong>$1,055.58</strong></span>
                    </div>
                    <div class="cost-item">
                        <span>EKS 클러스터 (1개)</span>
                        <span><strong>$73.00</strong></span>
                    </div>
                    <div class="cost-item">
                        <span>로드 밸런서</span>
                        <span><strong>$25.00</strong></span>
                    </div>
                    <div class="cost-item">
                        <span>데이터 전송</span>
                        <span><strong>$15.00</strong></span>
                    </div>
                    <div class="cost-item">
                        <span><strong>총 컴퓨팅 비용</strong></span>
                        <span><strong>$1,168.58</strong></span>
                    </div>
                </div>

                <h3>비용 최적화 기회</h3>
                <table class="analysis-table">
                    <thead>
                        <tr>
                            <th>최적화 방법</th>
                            <th>대상</th>
                            <th>현재 비용</th>
                            <th>최적화 후</th>
                            <th>절약 금액</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Reserved Instance</strong></td>
                            <td>t3.small (12개)</td>
                            <td>$183.96</td>
                            <td>$110.37</td>
                            <td>$73.59</td>
                        </tr>
                        <tr>
                            <td><strong>Reserved Instance</strong></td>
                            <td>m6i.xlarge (4개)</td>
                            <td>$560.64</td>
                            <td>$336.38</td>
                            <td>$224.26</td>
                        </tr>
                        <tr>
                            <td><strong>Spot Instance</strong></td>
                            <td>개발/테스트 (8개)</td>
                            <td>$245.28</td>
                            <td>$73.58</td>
                            <td>$171.70</td>
                        </tr>
                        <tr>
                            <td><strong>인스턴스 크기 조정</strong></td>
                            <td>과소 사용 (4개)</td>
                            <td>$122.64</td>
                            <td>$61.32</td>
                            <td>$61.32</td>
                        </tr>
                        <tr style="background: #e8f5e8; font-weight: bold;">
                            <td><strong>총 절약 가능</strong></td>
                            <td>-</td>
                            <td>-</td>
                            <td>-</td>
                            <td><strong>$530.87</strong></td>
                        </tr>
                    </tbody>
                </table>
            </section>

            <section>
                <h2>🎯 컴퓨팅 최적화 권장사항</h2>
                
                <div class="action-grid">
                    <div class="action-card high-priority">
                        <h3>🔴 즉시 실행 (1주 내)</h3>
                        <ul>
                            <li>Reserved Instance 구매 (t3.small 12개)</li>
                            <li>Reserved Instance 구매 (m6i.xlarge 4개)</li>
                            <li>CloudWatch 모니터링 활성화</li>
                            <li>Auto Scaling 정책 최적화</li>
                        </ul>
                        <div class="action-impact">월 $297 절약</div>
                    </div>
                    
                    <div class="action-card medium-priority">
                        <h3>🟡 1개월 내 실행</h3>
                        <ul>
                            <li>개발 환경 Spot Instance 전환</li>
                            <li>Container Insights 활성화</li>
                            <li>인스턴스 크기 최적화</li>
                            <li>EKS Fargate 검토</li>
                        </ul>
                        <div class="action-impact">월 $233 절약</div>
                    </div>
                    
                    <div class="action-card low-priority">
                        <h3>🟢 3개월 내 실행</h3>
                        <ul>
                            <li>서버리스 아키텍처 전환</li>
                            <li>Graviton 인스턴스 검토</li>
                            <li>멀티 리전 배포</li>
                            <li>성능 최적화</li>
                        </ul>
                        <div class="action-impact">장기적 최적화</div>
                    </div>
                </div>
            </section>

            <div class="nav-buttons">
                <a href="networking.html" class="nav-btn">← 이전: 네트워킹 분석</a>
                <a href="storage.html" class="nav-btn">다음: 스토리지 분석 →</a>
            </div>
        </div>
    </div>
</body>
</html>
